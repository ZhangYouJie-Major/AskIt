# AskIt - 企业级 RAG 知识库系统

基于 LangChain 的企业内部知识库问答系统，支持多种文档类型、部门级权限隔离、混合增强检索。

## 🏗️ 架构

```
┌─────────────────────────────────────────────────────────────┐
│                        前端层 (Vue 3)                        │
│  ┌───────────────┐  ┌───────────────┐  ┌───────────────┐   │
│  │  知识库查询   │  │   管理后台    │  │   用户中心    │   │
│  └───────────────┘  └───────────────┘  └───────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                   后端服务层 (FastAPI + LangChain)          │
│  ┌───────────────┐  ┌───────────────┐  ┌───────────────┐   │
│  │   查询服务    │  │   文档服务    │  │   管理服务    │   │
│  │   (RAG API)   │  │  (上传/解析)  │  │  (用户/权限)  │   │
│  └───────────────┘  └───────────────┘  └───────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    任务处理层 (Celery)                       │
│  ┌───────────────┐  ┌───────────────┐  ┌───────────────┐   │
│  │  文档解析队列 │  │  OCR 处理队列 │  │  向量生成队列  │   │
│  └───────────────┘  └───────────────┘  └───────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                      数据存储层                              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌───────────┐  │
│  │ Qdrant   │  │PostgreSQL│  │  MinIO   │  │  Redis    │  │
│  │ (向量DB) │  │ (关系DB) │  │ (文件存储)│  │ (缓存/队列)│ │
│  └──────────┘  └──────────┘  └──────────┘  └───────────┘  │
└─────────────────────────────────────────────────────────────┘
```

## 🚀 快速开始

### 环境要求

- Python 3.11+
- Node.js 18+
- Docker & Docker Compose

### Docker 部署 (推荐)

```bash
# 启动所有服务
docker-compose up -d

# 查看日志
docker-compose logs -f

# 停止服务
docker-compose down
```

### 本地开发

#### 后端

```bash
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload
```

#### 前端

```bash
cd frontend
npm install
npm run dev
```

## 📁 项目结构

```
AskIt/
├── backend/                 # 后端服务
│   ├── app/
│   │   ├── api/            # API 路由
│   │   ├── core/           # 核心配置
│   │   ├── models/         # 数据模型
│   │   ├── services/       # 业务逻辑
│   │   └── utils/          # 工具函数
│   └── tests/              # 测试文件
├── frontend/               # 前端应用
│   └── src/
│       ├── api/            # API 调用
│       ├── components/     # 组件
│       ├── views/          # 页面
│       ├── stores/         # 状态管理
│       └── router/         # 路由配置
├── deploy/                 # 部署配置
│   ├── docker/             # Docker 配置
│   └── scripts/            # 部署脚本
└── docs/                   # 文档
```

## 🔧 技术栈

- **前端**: Vue 3 + TypeScript + Element Plus
- **后端**: FastAPI + LangChain + LangGraph
- **向量数据库**: Qdrant
- **关系数据库**: PostgreSQL
- **文件存储**: MinIO
- **缓存/队列**: Redis + Celery
- **任务队列**: Celery

## 📝 功能特性

- [x] 多格式文档上传 (Word, Excel, PPT, PDF, Markdown, 代码)
- [x] 智能文档解析与分块
- [x] 向量存储与语义检索
- [x] OCR 图片识别
- [x] 部门级权限隔离
- [x] 混合增强检索 (文档 + 联网 + 内部系统)
- [x] 多轮对话记忆
- [ ] 管理后台
- [ ] 系统监控

## 📄 许可证

MIT License
